<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>test - phina.js</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.js'></script>
    <!-- box2d -->
    <script src='http://cdn.rawgit.com/phi-jp/box2dweb/04f6e9eafdecce1c9d5cc312bb9c6b5c2a868993/Box2D.js'></script>
  </head>
  <body>
    <canvas id='world'></canvas>
    <button class='btn-standalone' onclick='openStandalone();'>View</button>
  </body>
</html>

<style>
  #world {
    box-shadow: 0px 0px 4px 0px #aaa;
  }
  .btn-standalone {
    position: absolute;
    top: 10px;
    right: 10px;
    border: none;
    padding: 5px 10px;
  }
</style>

<script src='../../build/phina.js'></script>

<script>

window.openStandalone = function() {
  var w = window.open(location.href);
};

phina.define('MainScene', {
  superClass: 'phina.display.DisplayScene',
  init: function() {
    this.superInit({
      width: 640,
      height: 960,
    });

{{code}}
  },
});


phina.main(function() {
  var app = phina.game.GameApp({
    query:'#world',
    debug: true,
  });
  var scene = MainScene();
  app.replaceScene(scene);
  app.run();

  app.enableStats();
});

</script>
